(function(){angular.module("NgCastMyData",[]).value("CastMyDataServer","").factory("NgCastMyDataEndpoint",["CastMyDataServer","$timeout",function(t,n){var o=function(t,n){for(var o in t)t.hasOwnProperty(o)&&n(t[o],o)};return function(i){var r=new CastMyData.Endpoint(t,i);return r.__proto__.bindToScope=function(t,i){var r=t[i]=[];return this.on("records",function(t){r.splice(0,r.length),t.forEach(function(t){r.push(t)})}),this.on("post",function(t){r.push(t)}),this.on("put",function(t){var n=r.filter(function(n){return n.id==t.id}).pop();n&&o(t,function(t,o){n[o]=t})}),this.on("delete",function(t){var n=r.filter(function(n){return n.id==t.id}).pop(),o=r.indexOf(n);n&&o>-1&&r.splice(o,1)}),this.on("records post put delete broadcast",function(){n(function(){t.$digest()})}),this},r}}])}).call(this);